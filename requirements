# Спецификация требований к веб-приложению для записи в психологический центр

Данный документ содержит полный набор функциональных и нефункциональных требований к системе, разработанной в рамках проекта автоматизации записи в психологический центр.

## Общая информация
- **Дата создания:** 23.07.2025
- **Версия:** 2.0
- **Автор:** Ирина Тихомирова

---

## 1. Функциональные требования

### Backend

#### (Авт) Авторизация
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Авт_1 | Система должна авторизовать пользователя по логину (email) и паролю | Must | Новое |
| Авт_2 | Система должна предоставлять возможность задать новый пароль | Must | Новое |
| Авт_3 | Система должна предоставлять возможность восстановить или сбросить пароль | Must | Новое |
| Авт_4 | Система должна позволять клиентам самостоятельно зарегистрироваться | Must | Новое |
| Авт_5 | Система должна позволять клиентам редактировать свои личные данные | Should | Новое |

#### (Адм) Администрирование
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Адм_1 | Система должна позволять администратору зарегистрировать пользователя с ролью, отличной от клиента, и назначить ему ФИО, телефон, email и пароль | Must | Новое |
| Адм_2 | Система должна позволять администратору редактировать данные пользователя: роль, ФИО, телефон, email | Must | Новое |
| Адм_3 | Система должна позволять администратору удалять пользователя | Should | Новое |

#### (Бр) Бронирование сессий
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Бр_1 | Система должна позволять выбрать психотерапевта | Must | Новое |
| Бр_2 | Система должна позволять выбрать форму работы (индивидуальная, семейная, групповая) | Must | Новое |
| Бр_3 | Система должна позволять выбрать дату и время с учётом выбранного психотерапевта и формы работы | Must | Новое |
| Бр_4 | Система должна позволять клиенту встать в лист ожидания, если нет подходящего времени | Should | Новое |
| Бр_5 | Клиент должен быть авторизован в системе, чтобы оформить заявку на сессию | Must | Новое |
| Бр_6 | Система должна позволять перенести сессию | Must | Новое |
| Бр_7 | Система должна позволять отменить сессию | Must | Новое |
| Бр_8 | Система должна отображать стоимость сессии в зависимости от психотерапевта и формы работы после их выбора | Must | Новое |
| Бр_9 | Система должна перенаправлять на страницу оплаты после бронирования сессии | Must | Новое |
| Бр_10 | Система должна сохранять статус сессии (забронировано/оплачено) при переносе времени | Must | Новое |
| Бр_11 | Система должна уведомить клиента, что при отмене сессии менее чем за 24 часа он должен оплатить 50% стоимости | Should | Новое |
| Бр_12 | После отмены оплаченной сессии система должна уведомить клиента, что возврат средств осуществляется вручную администратором в течение 10 рабочих дней | Should | Новое |

#### (Жк) Журнал клиентов
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Жк_1 | Система должна позволять психотерапевту создать запись о сессии с полями: клиент, дата, комментарии, домашнее задание, идеи на следующую сессию | Must | Новое |
| Жк_2 | Система должна позволять психотерапевту создать запись о супервизии с полями: клиент, дата, данные, замечания, выводы | Should | Новое |
| Жк_3 | Система должна позволять психотерапевту редактировать или удалять записи о сессиях | Must | Новое |
| Жк_4 | Система должна позволять психотерапевту редактировать или удалять записи о супервизиях | Should | Новое |

#### (Ос) Обратная связь
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Ос_1 | Система должна позволять клиенту поставить оценку (1–10) и оставить отзыв о психотерапевте и центре | Must | Новое |
| Ос_2 | Система должна сохранять с отзывом: имя клиента (опционально), имя терапевта (опционально), текст отзыва, оценку | Must | Новое |
| Ос_3 | Система должна позволять психотерапевту просматривать отзывы о своей работе | Must | Новое |
| Ос_4 | Система должна позволять администратору и SMM-менеджеру просматривать все отзывы | Should | Новое |
| Ос_5 | Система должна позволять администратору удалять отзыв | Should | Новое |
| Ос_6 | Система должна подтверждать клиенту успешное добавление отзыва | Must | Новое |

#### (Оу) Оплата услуг
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Оу_2 | Система должна отображать на странице оплаты: психотерапевта, время, форму работы, стоимость | Must | Новое |
| Оу_3 | Система должна позволять клиенту выбрать способ оплаты: карта, СБП, мобильные банки | Must | Новое |
| Оу_4 | Система должна принимать и обрабатывать платежи через выбранный способ | Must | Новое |
| Оу_5 | Система должна подтверждать клиенту успешную оплату | Must | Новое |
| Оу_6 | Система должна предоставлять ссылку на сессионный зал (Google Meet) после оплаты | Must | Новое |
| Оу_7 | Система должна сохранять данные об оплате: клиент, телефон, ID сессии, сумма, дата, способ, статус | Must | Новое |
| Оу_8 | Система должна позволять администратору просматривать историю оплат клиентов | Should | Новое |
| Оу_9 | Система должна уведомлять клиента о неуспешной оплате и предлагать связаться с администратором | Should | Новое |
| Оу_10 | Система должна уведомлять администратора о неуспешной оплате | Should | Новое |
| Оу_11 | Система должна позволять психотерапевтам устанавливать стоимость своих услуг в зависимости от формы работы | Should | Новое |

#### (Рас) Расписание
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Рас_1 | Система должна хранить расписание каждого психотерапевта | Must | Новое |
| Рас_2 | Система должна хранить форму работы для каждого временного слота | Must | Новое |
| Рас_3 | Система должна позволять психотерапевтам создавать и редактировать своё расписание | Must | Новое |
| Рас_4 | Система должна позволять администратору управлять расписанием всех психотерапевтов | Should | Новое |
| Рас_5 | Система должна проверять корректность расписания: отсутствие пересечений, время с 8:00 до 23:00, дата не более чем на 3 месяца вперёд | Must | Новое |
| Рас_6 | Система должна предоставлять актуальное расписание для модуля бронирования | Must | Новое |

#### (Со) Сервис оповещений
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Со_1 | Система должна отправлять SMS клиенту и терапевту при назначении сессии | Must | Новое |
| Со_2 | Система должна отправлять SMS при переносе сессии | Must | Новое |
| Со_3 | Система должна отправлять SMS при отмене сессии | Should | Новое |
| Со_4 | Система должна отправлять SMS-напоминание клиенту за 15 минут до сессии | Must | Новое |
| Со_5 | Система должна отправлять email-подтверждение при регистрации | Must | Новое |
| Со_6 | Система должна отправлять email с инструкциями при запросе смены пароля | Must | Новое |
| Со_7 | Система должна отправлять email-подтверждение после смены пароля | Must | Новое |
| Со_8 | Система должна отправлять email при редактировании личных данных | Should | Новое |
| Со_9 | Система должна отправлять email администратору при успешной или неуспешной оплате | Should | Новое |
| Со_10 | Система должна отправлять клиенту email с ссылкой на оплату после бронирования | Must | Новое |
| Со_11 | Система должна отправлять клиенту email со ссылкой на сессионный зал после оплаты | Must | Новое |
| Со_12 | Система должна отправлять клиенту email-напоминание об оплате за час до сессии, если сессия не оплачена | Should | Новое |

#### Интеграции

##### (Пс) Интеграция с платёжным сервисом
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Пс_1 | Система должна инициировать платёж, передавая: сумму, валюту, получателя, описание | Must | Новое |
| Пс_2 | Система должна получать и обрабатывать статус платежа от платёжного сервиса (успешно, отклонено, ошибка) | Must | Новое |

##### (Мо) Интеграция с мобильным оператором
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Мо_1 | Система должна отправлять SMS через API мобильного оператора | Must | Новое |
| Мо_2 | Система должна получать подтверждение доставки SMS от оператора | Should | Новое |
| Мо_3 | Система должна обрабатывать ошибки отправки SMS, включая повторные попытки | Should | Новое |
| Мо_4 | Система должна позволять настраивать: номер отправителя, текст сообщения, время отправки | Could | Новое |

##### (Ср) Интеграция с сервисом email-рассылки
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Ср_1 | Система должна поддерживать отправку индивидуальных email-уведомлений | Must | Новое |
| Ср_2 | Система должна позволять передавать: email, заголовок, тело письма | Must | Новое |
| Ср_3 | Система должна получать статус успешной отправки письма | Should | Новое |
| Ср_4 | Система должна обрабатывать ошибки отправки email | Should | Новое |
| Ср_5 | Система должна отправлять уведомления в режиме реального времени или с минимальной задержкой | Must | Новое |

#### Frontend

##### (Пр) WEB приложение
| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Пр_1 | Система должна отображать страницу со списком психотерапевтов: ФИО, специализация | Must | Новое |
| Пр_2 | Система должна отображать страницу психотерапевта: ФИО, фото, специализация, обучение, опыт, рассказ, расписание, стоимость | Must | Новое |
| Пр_3 | Система должна отображать страницу с описанием услуг и ценами | Must | Новое |
| Пр_4 | Система должна позволять клиенту записаться на сессию, выбрав терапевта, форму, дату и время | Must | Новое |
| Пр_5 | Система должна позволять клиенту просматривать свои записи | Must | Новое |
| Пр_6 | Система должна позволять клиенту переносить или отменять запись | Must | Новое |
| Пр_7 | Система должна отображать форму оплаты с текущим статусом | Must | Новое |
| Пр_8 | Система должна содержать форму обратной связи для вопросов и отзывов | Should | Новое |
| Пр_9 | Система должна позволять администратору просматривать и удалять отзывы | Should | Новое |
| Пр_10 | Система должна позволять терапевту просматривать отзывы о своей работе | Must | Новое |
| Пр_11 | Система должна позволять администратору редактировать расписание терапевтов | Should | Новое |
| Пр_12 | Система должна позволять терапевтам формировать и редактировать своё расписание | Must | Новое |
| Пр_13 | Система должна позволять добавлять и редактировать записи о сессиях и супервизиях | Must | Новое |
| Пр_14 | Система должна позволять администратору создавать, редактировать и удалять пользователей | Must | Новое |
| Пр_15 | Система должна обеспечивать авторизацию и аутентификацию пользователей | Must | Новое |
| Пр_16 | Система должна позволять клиентам регистрироваться | Must | Новое |

---

## 2. Нефункциональные требования

| Номер | Требование | Приоритет | Состояние |
|-------|------------|----------|-----------|
| Нф_1 | Все записи о сессиях и супервизиях должны храниться и передаваться с использованием механизмов, обеспечивающих конфиденциальность данных. Доступ к этим записям должен иметь только соответствующий психотерапевт. | Must | Новое |
| Нф_2 | Система должна обеспечивать безопасность передачи и хранения платёжных данных в соответствии с требованиями ЮKassa: передача по HTTPS, отсутствие хранения данных карт, использование токенизации, ограничение доступа к API-ключам, шифрование секретных данных, ведение аудита и логирования платёжных операций. | Must | Новое |
| Нф_3 | Система должна обеспечивать адаптивный интерфейс для корректного отображения на мобильных устройствах, планшетах и десктопах. | Must | Новое |
| Нф_4 | Система должна поддерживать работу в следующих браузерах: Chrome (138), Firefox (140), Safari (18), Edge (138). | Should | Новое |
| Нф_5 | Система должна обеспечивать время отклика пользовательского интерфейса не более 3 секунд на основные операции. | Must | Новое |
| Нф_6 | Система должна обеспечивать безопасное хранение и передачу данных пользователей с использованием HTTPS. | Must | Новое |
| Нф_7 | Система должна обеспечивать защиту от веб-уязвимостей: XSS, CSRF, SQL Injection, Clickjacking. | Must | Новое |
| Нф_8 | Система должна ограничивать доступ к услугам только клиентам, старше 18 лет. | Must | Новое |

---

## Приоритеты (MoSCoW)
- **Must** — обязательные требования для MVP
- **Should** — важные, но могут быть отложены
- **Could** — желательные, но не критичные
